<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TechBook - Đăng ký</title>
    <script src="https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7.22.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-100 font-sans">
    <div id="root"></div>

    <script type="text/babel">
      // Cập nhật navbar trong tất cả các file
const Navbar = () => {
  const [isDropdownOpen, setIsDropdownOpen] = React.useState(false);
  const [isLoggedIn, setIsLoggedIn] = React.useState(false);

  return (
    <nav class="bg-black text-white p-4 flex items-center justify-between">
      <div class="text-2xl font-bold">
        <a href="trangchu.html" class="hover:text-gray-300">TechBook</a>
      </div>
      <div class="flex-1 flex justify-center space-x-6">
        <a href="trangchu.html" class="hover:underline">
          TRANG CHỦ
        </a>
        <a href="baidang.html" class="hover:underline">
          BÀI ĐĂNG
        </a>
        <a href="#" class="hover:underline">
          GIỚI THIỆU
        </a>
      </div>
      <div class="relative">
        <button
          class="hover:underline flex items-center"
          onClick={() => setIsDropdownOpen(!isDropdownOpen)}
        >
          TÀI KHOẢN
          <svg
            class="w-4 h-4 ml-1"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              strokeLinecap="round"
              strokeLinejoin="round"
              strokeWidth="2"
              d="M19 9l-7 7-7-7"
            ></path>
          </svg>
        </button>
        {isDropdownOpen && (
          <div class="absolute right-0 mt-2 w-48 bg-white text-black rounded-lg shadow-lg">
            {!isLoggedIn ? (
              <>
                <a href="dangnhap.html" class="block px-4 py-2 hover:bg-gray-200">
                  Đăng nhập
                </a>
                <a href="dangky.html" class="block px-4 py-2 hover:bg-gray-200">
                  Đăng ký
                </a>
              </>
            ) : (
              <>
                <a href="trangcanhan.html" class="block px-4 py-2 hover:bg-gray-200">
                  Xem hồ sơ
                </a>
                <a href="caidat.html" class="block px-4 py-2 hover:bg-gray-200">
                  Cài đặt
                </a>
                <a href="#" class="block px-4 py-2 hover:bg-gray-200" onClick={() => setIsLoggedIn(false)}>
                  Đăng xuất
                </a>
              </>
            )}
          </div>
        )}
      </div>
    </nav>
  );
};

      const SignupForm = () => {
        const [signupData, setSignupData] = React.useState({
          email: '',
          password: '',
          confirmPassword: '',
          username: ''
        });

        const [errors, setErrors] = React.useState({});

        const handleChange = (e) => {
          const { name, value } = e.target;
          setSignupData(prev => ({
            ...prev,
            [name]: value
          }));
          if (errors[name]) {
            setErrors(prev => ({ ...prev, [name]: '' }));
          }
        };

        const validateForm = () => {
          const newErrors = {};
          if (!signupData.email) newErrors.email = 'Vui lòng nhập email';
          if (!signupData.username) newErrors.username = 'Vui lòng nhập tên người dùng';
          if (!signupData.password) newErrors.password = 'Vui lòng nhập mật khẩu';
          else if (signupData.password.length < 6) newErrors.password = 'Mật khẩu phải có ít nhất 6 ký tự';
          if (signupData.password !== signupData.confirmPassword) {
            newErrors.confirmPassword = 'Mật khẩu xác nhận không khớp';
          }
          setErrors(newErrors);
          return Object.keys(newErrors).length === 0;
        };

        const handleSubmit = (e) => {
          e.preventDefault();
          if (validateForm()) {
            console.log('Signup:', signupData);
            alert('Đăng ký thành công!');
            // window.location.href = 'dangnhap.html';
          }
        };

        return (
          <div class="min-h-screen flex items-center justify-center py-12 px-4">
            <div class="max-w-md w-full bg-white rounded-lg shadow-lg p-8">
              <h2 class="text-2xl font-bold text-center text-gray-900 mb-6">
                Đăng ký
              </h2>
              <form onSubmit={handleSubmit} class="space-y-4">
                <div>
                  <input
                    type="email"
                    name="email"
                    placeholder="Email"
                    value={signupData.email}
                    onChange={handleChange}
                    class={`w-full px-4 py-3 border rounded-lg focus:outline-none transition-colors ${
                      errors.email ? 'border-red-500' : 'border-gray-300 focus:border-green-500'
                    }`}
                    required
                  />
                  {errors.email && <p class="text-red-500 text-sm mt-1">{errors.email}</p>}
                </div>
                <div>
                  <input
                    type="text"
                    name="username"
                    placeholder="Tên người dùng"
                    value={signupData.username}
                    onChange={handleChange}
                    class={`w-full px-4 py-3 border rounded-lg focus:outline-none transition-colors ${
                      errors.username ? 'border-red-500' : 'border-gray-300 focus:border-green-500'
                    }`}
                    required
                  />
                  {errors.username && <p class="text-red-500 text-sm mt-1">{errors.username}</p>}
                </div>
                <div>
                  <input
                    type="password"
                    name="password"
                    placeholder="Mật khẩu"
                    value={signupData.password}
                    onChange={handleChange}
                    class={`w-full px-4 py-3 border rounded-lg focus:outline-none transition-colors ${
                      errors.password ? 'border-red-500' : 'border-gray-300 focus:border-green-500'
                    }`}
                    required
                  />
                  {errors.password && <p class="text-red-500 text-sm mt-1">{errors.password}</p>}
                </div>
                <div>
                  <input
                    type="password"
                    name="confirmPassword"
                    placeholder="Xác nhận mật khẩu"
                    value={signupData.confirmPassword}
                    onChange={handleChange}
                    class={`w-full px-4 py-3 border rounded-lg focus:outline-none transition-colors ${
                      errors.confirmPassword ? 'border-red-500' : 'border-gray-300 focus:border-green-500'
                    }`}
                    required
                  />
                  {errors.confirmPassword && <p class="text-red-500 text-sm mt-1">{errors.confirmPassword}</p>}
                </div>
                <button
                  type="submit"
                  class="w-full bg-green-600 text-white py-3 rounded-lg font-medium hover:bg-green-700 transition-colors"
                >
                  Đăng ký
                </button>
              </form>
              <p class="text-center mt-4 text-gray-600">
                Đã có tài khoản? <a href="dangnhap.html" class="text-green-600 hover:underline">Đăng nhập ngay</a>
              </p>
            </div>
          </div>
        );
      };

      const RegisterPage = () => {
        return (
          <div>
            <Navbar />
            <SignupForm />
            <footer class="bg-black text-white p-6 flex justify-between">
              <div>
                <h3 class="font-bold">TechBook</h3>
                <p class="text-sm">
                  Trang chủ review của hàng <br />
                  đồ công nghệ secondhand uy <br />
                  tín nhất Việt Nam
                </p>
                <p class="text-sm mt-2">© TechBook@Gmail.com</p>
                <p class="text-sm mt-2">Hà Nội, Việt Nam</p>
              </div>
              <div>
                <h3 class="font-bold">CUSTOMER CARE</h3>
                <p class="text-sm mt-2">About Us</p>
                <p class="text-sm">Contact Us</p>
                <p class="text-sm">Blog</p>
              </div>
              <div>
                <h3 class="font-bold">CHÍNH SÁCH QUYỀN RIÊNG TƯ</h3>
                <p class="text-sm mt-2">ĐIỀU KHOẢN VÀ ĐIỀU KIỆN</p>
              </div>
            </footer>
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<RegisterPage />);
    </script>
  </body>
</html>